<!--&lt;!&ndash;<!DOCTYPE html>&ndash;&gt;-->
<!--&lt;!&ndash;<html lang="en" xmlns:th="http://thymeleaf.org">&ndash;&gt;-->
<!--&lt;!&ndash;<head>&ndash;&gt;-->
<!--&lt;!&ndash;    <title>Buat Pengadaan</title>&ndash;&gt;-->
<!--&lt;!&ndash;    <object th:insert="~{fragments/fragment :: css}" th:remove="tag"></object>&ndash;&gt;-->
<!--&lt;!&ndash;    <object th:insert="~{fragments/fragment :: js}" th:remove="tag"></object>&ndash;&gt;-->
<!--&lt;!&ndash;</head>&ndash;&gt;-->

<!--&lt;!&ndash;<body>&ndash;&gt;-->
<!--&lt;!&ndash;&lt;!&ndash;<nav th:replace="~{fragments/fragment :: navbar('permintaan-pengiriman')}"></nav>&ndash;&gt;&ndash;&gt;-->
<!--&lt;!&ndash;<div class="container-fluid">&ndash;&gt;-->
<!--&lt;!&ndash;    <div class="row">&ndash;&gt;-->
<!--&lt;!&ndash;        &lt;!&ndash;        <div th:replace=~{"fragments/sidebarf :: sidebar}" class="col-lg-3 col-md-4" ></div>&ndash;&gt;&ndash;&gt;-->
<!--&lt;!&ndash;        <div th:replace="~{fragments/sidebarf}" class="col-lg-3 col-md-4"></div>&ndash;&gt;-->
<!--&lt;!&ndash;        <div class="col">&ndash;&gt;-->
<!--&lt;!&ndash;            <div id="updatepengadaan">&ndash;&gt;-->
<!--&lt;!&ndash;                <div class="card mx-lg-5 m-4 p-4">&ndash;&gt;-->
<!--&lt;!&ndash;                    <h2 class="card-header text-center p-3">Buat Pengadaan</h2>&ndash;&gt;-->
<!--&lt;!&ndash;                    <div class="card-body">&ndash;&gt;-->
<!--&lt;!&ndash;                        <div class="justify-content-center">&ndash;&gt;-->
<!--&lt;!&ndash;                            <form id="form-pengadaan-update"&ndash;&gt;-->
<!--&lt;!&ndash;                                    th:action="@{'/pengadaan/' + ${pengadaanDTO.idPengadaan} + '/update'}"&ndash;&gt;-->
<!--&lt;!&ndash;                                    th:object="${pengadaanDTO}"&ndash;&gt;-->
<!--&lt;!&ndash;                                    method="POST"&ndash;&gt;-->
<!--&lt;!&ndash;                                    class="mx-4"&ndash;&gt;-->
<!--&lt;!&ndash;                            >&ndash;&gt;-->
<!--&lt;!&ndash;                                <input type="hidden" name="idPengadaan" th:value="${idPengadaan}" />&ndash;&gt;-->
<!--&lt;!&ndash;&lt;!&ndash;                                <input type="hidden" name="_csrf" th:value="${_csrf.token}" />&ndash;&gt;&ndash;&gt;-->
<!--&lt;!&ndash;                                &lt;!&ndash;                                <input type="hidden" name="addRow" th:value="*{true}" />&ndash;&gt;&ndash;&gt;-->
<!--&lt;!&ndash;&lt;!&ndash;                                <input type="hidden" name="${_csrf.parameterName}" value="${_csrf.token}"/>&ndash;&gt;&ndash;&gt;-->
<!--&lt;!&ndash;&lt;!&ndash;                                <input type="hidden" name="addRow" th:if="${not #lists.isEmpty(pengadaanDTO.listBarang)}" />&ndash;&gt;&ndash;&gt;-->
<!--&lt;!&ndash;&lt;!&ndash;                                <input type="hidden" name="deleteRow" th:if="${not #lists.isEmpty(pengadaanDTO.listBarang)}" />&ndash;&gt;&ndash;&gt;-->
<!--&lt;!&ndash;                                <div class="row">&ndash;&gt;-->
<!--&lt;!&ndash;                                    <div class="col">&ndash;&gt;-->
<!--&lt;!&ndash;                                        <label> <b style="font-size:24px"> Nama Pengadaan: </b><span style="color: red;">*</span> </label>&ndash;&gt;-->
<!--&lt;!&ndash;                                        <input&ndash;&gt;-->
<!--&lt;!&ndash;                                                class="form-control"&ndash;&gt;-->
<!--&lt;!&ndash;                                                type="text"&ndash;&gt;-->
<!--&lt;!&ndash;                                                required="required"&ndash;&gt;-->
<!--&lt;!&ndash;                                                th:field="*{namaPengadaan}"&ndash;&gt;-->
<!--&lt;!&ndash;                                        />&ndash;&gt;-->
<!--&lt;!&ndash;                                        <br><br>&ndash;&gt;-->

<!--&lt;!&ndash;                                        <label> <b style="font-size:24px"> Tanggal Pengadaan: </b><span style="color: red;">*</span></label>&ndash;&gt;-->
<!--&lt;!&ndash;                                        <input&ndash;&gt;-->
<!--&lt;!&ndash;                                                class="form-control"&ndash;&gt;-->
<!--&lt;!&ndash;                                                type="date"&ndash;&gt;-->
<!--&lt;!&ndash;                                                required="required"&ndash;&gt;-->
<!--&lt;!&ndash;                                                th:field="*{tanggalPengadaan}"&ndash;&gt;-->
<!--&lt;!&ndash;                                        />&ndash;&gt;-->
<!--&lt;!&ndash;                                        <br><br>&ndash;&gt;-->

<!--&lt;!&ndash;                                        <label> <b style="font-size:24px"> Nama Vendor: </b><span style="color: red;">*</span></label>&ndash;&gt;-->
<!--&lt;!&ndash;                                        <table class="table">&ndash;&gt;-->
<!--&lt;!&ndash;                                            <tbody>&ndash;&gt;-->
<!--&lt;!&ndash;                                            <tr>&ndash;&gt;-->
<!--&lt;!&ndash;                                                <select&ndash;&gt;-->
<!--&lt;!&ndash;                                                        class="form-control"&ndash;&gt;-->
<!--&lt;!&ndash;                                                        name="kodeVendor"&ndash;&gt;-->
<!--&lt;!&ndash;                                                        id="kodeVendor"&ndash;&gt;-->
<!--&lt;!&ndash;                                                        th:field="*{vendor.kodeVendor}"&ndash;&gt;-->
<!--&lt;!&ndash;                                                >&ndash;&gt;-->
<!--&lt;!&ndash;                                                    <option&ndash;&gt;-->
<!--&lt;!&ndash;                                                            th:each="vendor: ${listVendor}"&ndash;&gt;-->
<!--&lt;!&ndash;                                                            th:value="${vendor.kodeVendor}"&ndash;&gt;-->
<!--&lt;!&ndash;                                                            th:text="${vendor.namaVendor}"&ndash;&gt;-->
<!--&lt;!&ndash;                                                    ></option>&ndash;&gt;-->
<!--&lt;!&ndash;                                                </select>&ndash;&gt;-->
<!--&lt;!&ndash;                                            </tr>&ndash;&gt;-->
<!--&lt;!&ndash;                                            </tbody>&ndash;&gt;-->
<!--&lt;!&ndash;                                        </table>&ndash;&gt;-->

<!--&lt;!&ndash;                                        <br /><br />&ndash;&gt;-->
<!--&lt;!&ndash;                                    </div>&ndash;&gt;-->
<!--&lt;!&ndash;                                </div>&ndash;&gt;-->

<!--&lt;!&ndash;                                <div class="text-right">&ndash;&gt;-->
<!--&lt;!&ndash;                                    &lt;!&ndash;                        <button type="submit" class="my-4 ml-2 btn btn-primary" id="add-row" name="addRow">+ Tambah Row</button>&ndash;&gt;&ndash;&gt;-->
<!--&lt;!&ndash;                                    <button type="submit" class="btn btn-primary btn-lg px-5" name="tambahRow" value="true" onclick="return validateTambahBarang()">+ Tambah Barang</button>&ndash;&gt;-->

<!--&lt;!&ndash;                                </div>&ndash;&gt;-->
<!--&lt;!&ndash;                                <br><br>&ndash;&gt;-->

<!--&lt;!&ndash;                                <table class="table table-bordered" >&ndash;&gt;-->
<!--&lt;!&ndash;                                    <thead class="thead-dark">&ndash;&gt;-->
<!--&lt;!&ndash;                                    <tr>&ndash;&gt;-->
<!--&lt;!&ndash;                                        <th scope="col">No</th>&ndash;&gt;-->
<!--&lt;!&ndash;                                        <th scope="col">Barang</th>&ndash;&gt;-->
<!--&lt;!&ndash;                                        <th scope="col">Jumlah Barang</th>&ndash;&gt;-->
<!--&lt;!&ndash;                                        <th scope="col">Harga Satuan</th>&ndash;&gt;-->
<!--&lt;!&ndash;                                        <th scope="col">Diskon Satuan (%)</th>&ndash;&gt;-->
<!--&lt;!&ndash;                                        <th scope="col">Action</th>&ndash;&gt;-->
<!--&lt;!&ndash;                                    </tr>&ndash;&gt;-->
<!--&lt;!&ndash;                                    </thead>&ndash;&gt;-->

<!--&lt;!&ndash;                                    <tbody id="container">&ndash;&gt;-->
<!--&lt;!&ndash;                                    <tr th:each="barang, iterationStatus : *{listPengadaanBarang}">&ndash;&gt;-->
<!--&lt;!&ndash;                                        <td th:text="${iterationStatus.count}"></td>&ndash;&gt;-->

<!--&lt;!&ndash;                                        <td>&ndash;&gt;-->
<!--&lt;!&ndash;                                            <select&ndash;&gt;-->
<!--&lt;!&ndash;                                                    th:field="*{listPengadaanBarang[__${iterationStatus.index}__].barang}"&ndash;&gt;-->
<!--&lt;!&ndash;                                                    class="form-control"&ndash;&gt;-->
<!--&lt;!&ndash;                                            >&ndash;&gt;-->
<!--&lt;!&ndash;                                                <option value="">Pilih Barang</option>&ndash;&gt;-->
<!--&lt;!&ndash;                                                <th:block&ndash;&gt;-->
<!--&lt;!&ndash;                                                        th:each="barangExisting : ${listBarang}"&ndash;&gt;-->
<!--&lt;!&ndash;                                                >&ndash;&gt;-->
<!--&lt;!&ndash;                                                    <option&ndash;&gt;-->
<!--&lt;!&ndash;                                                            th:if="${barangExisting.vendorList.![kodeVendor].contains(pengadaanDTO.vendor.kodeVendor)}"&ndash;&gt;-->
<!--&lt;!&ndash;                                                            th:value="${barangExisting.kodeBarang}"&ndash;&gt;-->
<!--&lt;!&ndash;                                                            th:text="${barangExisting.namaBarang}"&ndash;&gt;-->
<!--&lt;!&ndash;                                                            th:selected="${pengadaanDTO != null && pengadaanDTO.listPengadaanBarang != null && pengadaanDTO.listPengadaanBarang[__${iterationStatus.index}__].barang != null && pengadaanDTO.listPengadaanBarang[__${iterationStatus.index}__].barang.kodeBarang == barangExisting.kodeBarang}"&ndash;&gt;-->
<!--&lt;!&ndash;                                                    ></option>&ndash;&gt;-->
<!--&lt;!&ndash;                                                </th:block>&ndash;&gt;-->
<!--&lt;!&ndash;                                            </select>&ndash;&gt;-->
<!--&lt;!&ndash;                                        </td>&ndash;&gt;-->

<!--&lt;!&ndash;                                        <td>&ndash;&gt;-->
<!--&lt;!&ndash;                                            <input&ndash;&gt;-->
<!--&lt;!&ndash;                                                    type="number"&ndash;&gt;-->
<!--&lt;!&ndash;                                                    th:field="*{listPengadaanBarang[__${iterationStatus.index}__].jumlahBarang}"&ndash;&gt;-->
<!--&lt;!&ndash;                                                    class="form-control jumlahBarang"&ndash;&gt;-->
<!--&lt;!&ndash;                                                    min="1"&ndash;&gt;-->
<!--&lt;!&ndash;                                                    step="1"&ndash;&gt;-->
<!--&lt;!&ndash;                                                    placeholder="Jumlah Barang"&ndash;&gt;-->

<!--&lt;!&ndash;                                            />&ndash;&gt;-->
<!--&lt;!&ndash;                                        </td>&ndash;&gt;-->
<!--&lt;!&ndash;                                        <td>&ndash;&gt;-->
<!--&lt;!&ndash;                                            <input&ndash;&gt;-->
<!--&lt;!&ndash;                                                    type="number"&ndash;&gt;-->
<!--&lt;!&ndash;                                                    th:field="*{listPengadaanBarang[__${iterationStatus.index}__].hargaBarang}"&ndash;&gt;-->
<!--&lt;!&ndash;                                                    class="form-control"&ndash;&gt;-->
<!--&lt;!&ndash;                                                    min="0"&ndash;&gt;-->
<!--&lt;!&ndash;                                                    step="1"&ndash;&gt;-->
<!--&lt;!&ndash;                                                    placeholder="Harga Barang"&ndash;&gt;-->
<!--&lt;!&ndash;                                            />&ndash;&gt;-->
<!--&lt;!&ndash;                                        </td>&ndash;&gt;-->
<!--&lt;!&ndash;                                        <td>&ndash;&gt;-->
<!--&lt;!&ndash;                                            <input&ndash;&gt;-->
<!--&lt;!&ndash;                                                    type="number"&ndash;&gt;-->
<!--&lt;!&ndash;                                                    th:field="*{listPengadaanBarang[__${iterationStatus.index}__].diskonSatuan}"&ndash;&gt;-->
<!--&lt;!&ndash;                                                    class="form-control"&ndash;&gt;-->
<!--&lt;!&ndash;                                                    min="0"&ndash;&gt;-->
<!--&lt;!&ndash;                                                    max="100"&ndash;&gt;-->
<!--&lt;!&ndash;                                                    step="1"&ndash;&gt;-->
<!--&lt;!&ndash;                                                    placeholder="Diskon Satuan (%)"&ndash;&gt;-->
<!--&lt;!&ndash;                                            />&ndash;&gt;-->
<!--&lt;!&ndash;                                        </td>&ndash;&gt;-->
<!--&lt;!&ndash;                                        <td>&ndash;&gt;-->
<!--&lt;!&ndash;                                            <button&ndash;&gt;-->
<!--&lt;!&ndash;                                                    th:value="${iterationStatus.index}"&ndash;&gt;-->
<!--&lt;!&ndash;                                                    class="btn btn-danger"&ndash;&gt;-->
<!--&lt;!&ndash;                                                    type="submit"&ndash;&gt;-->
<!--&lt;!&ndash;                                                    name="hapusRow"&ndash;&gt;-->
<!--&lt;!&ndash;                                            >&ndash;&gt;-->
<!--&lt;!&ndash;                                                Hapus&ndash;&gt;-->
<!--&lt;!&ndash;                                            </button>&ndash;&gt;-->
<!--&lt;!&ndash;                                        </td>&ndash;&gt;-->
<!--&lt;!&ndash;                                    </tr>&ndash;&gt;-->
<!--&lt;!&ndash;                                    </tbody>&ndash;&gt;-->
<!--&lt;!&ndash;                                </table>&ndash;&gt;-->

<!--&lt;!&ndash;                                <div class="row">&ndash;&gt;-->
<!--&lt;!&ndash;                                    <div class="col">&ndash;&gt;-->
<!--&lt;!&ndash;                                        <label> <b style="font-size:24px"> Diskon Keseluruhan (%): </b><span style="color: red;">*</span></label>&ndash;&gt;-->
<!--&lt;!&ndash;                                        <input&ndash;&gt;-->
<!--&lt;!&ndash;                                                class="form-control"&ndash;&gt;-->
<!--&lt;!&ndash;                                                type="number"&ndash;&gt;-->
<!--&lt;!&ndash;                                                required="required"&ndash;&gt;-->
<!--&lt;!&ndash;                                                min="0"&ndash;&gt;-->
<!--&lt;!&ndash;                                                max="100"&ndash;&gt;-->
<!--&lt;!&ndash;                                                step="1"&ndash;&gt;-->
<!--&lt;!&ndash;                                                th:field="*{diskonKeseluruhan}"&ndash;&gt;-->
<!--&lt;!&ndash;                                        />&ndash;&gt;-->
<!--&lt;!&ndash;                                        <br /><br />&ndash;&gt;-->
<!--&lt;!&ndash;                                    </div>&ndash;&gt;-->
<!--&lt;!&ndash;                                </div>&ndash;&gt;-->

<!--&lt;!&ndash;                                <div class="d-flex justify-content-center">&ndash;&gt;-->
<!--&lt;!&ndash;                                    <a class="btn btn-danger btn-lg me-4 px-5" href="/">Batal</a>&ndash;&gt;-->
<!--&lt;!&ndash;                                    &lt;!&ndash; me-4 untuk memberikan margin kanan sebesar 20px &ndash;&gt;&ndash;&gt;-->
<!--&lt;!&ndash;                                    <button class="btn btn-primary btn-lg px-5"&ndash;&gt;-->
<!--&lt;!&ndash;                                            type="submit" onclick="return validateForm()">Simpan</button>&ndash;&gt;-->
<!--&lt;!&ndash;                                </div>&ndash;&gt;-->

<!--&lt;!&ndash;                                <input type="hidden" id="vendorKode" name="kodeVendor" />&ndash;&gt;-->

<!--&lt;!&ndash;                            </form>&ndash;&gt;-->

<!--&lt;!&ndash;                            <script>&ndash;&gt;-->
<!--&lt;!&ndash;                            function validateTambahBarang() {&ndash;&gt;-->
<!--&lt;!&ndash;								var selectedVendor = document.getElementById("kodeVendor");&ndash;&gt;-->
<!--&lt;!&ndash;								var kodeVendor = selectedVendor.options[selectedVendor.selectedIndex].value;&ndash;&gt;-->
<!--&lt;!&ndash;								console.log("Selected kodeVendor:", kodeVendor);&ndash;&gt;-->
<!--&lt;!&ndash;								document.getElementById("vendorKode").value = kodeVendor;&ndash;&gt;-->

<!--&lt;!&ndash;								var inputs = document.querySelectorAll('.jumlahBarang');&ndash;&gt;-->
<!--&lt;!&ndash;								var isValid = true;&ndash;&gt;-->
<!--&lt;!&ndash;								inputs.forEach(function(input) {&ndash;&gt;-->
<!--&lt;!&ndash;									if (input.value === "") {&ndash;&gt;-->
<!--&lt;!&ndash;										isValid = false;&ndash;&gt;-->
<!--&lt;!&ndash;									}&ndash;&gt;-->
<!--&lt;!&ndash;								});&ndash;&gt;-->
<!--&lt;!&ndash;								if (!isValid) {&ndash;&gt;-->
<!--&lt;!&ndash;									alert("Kuantitas barang wajib diisi.");&ndash;&gt;-->
<!--&lt;!&ndash;								}&ndash;&gt;-->
<!--&lt;!&ndash;								return isValid;&ndash;&gt;-->
<!--&lt;!&ndash;							  }&ndash;&gt;-->

<!--&lt;!&ndash;							  function validateForm() {&ndash;&gt;-->
<!--&lt;!&ndash;											// Ambil semua input dalam form&ndash;&gt;-->
<!--&lt;!&ndash;											var inputs = document.querySelectorAll("input, select");&ndash;&gt;-->
<!--&lt;!&ndash;											var isValid = true;&ndash;&gt;-->

<!--&lt;!&ndash;											// Loop melalui setiap input&ndash;&gt;-->
<!--&lt;!&ndash;											inputs.forEach(function (input) {&ndash;&gt;-->
<!--&lt;!&ndash;												// Jika input kosong dan required, tandai sebagai tidak valid&ndash;&gt;-->
<!--&lt;!&ndash;												if (input.required && !input.value.trim()) {&ndash;&gt;-->
<!--&lt;!&ndash;													isValid = false;&ndash;&gt;-->
<!--&lt;!&ndash;													// Tambahkan class 'is-invalid' untuk menandai input yang tidak valid&ndash;&gt;-->
<!--&lt;!&ndash;													input.classList.add("is-invalid");&ndash;&gt;-->
<!--&lt;!&ndash;												}&ndash;&gt;-->
<!--&lt;!&ndash;											});&ndash;&gt;-->

<!--&lt;!&ndash;											// Jika ada field yang tidak diisi, tampilkan pesan kesalahan&ndash;&gt;-->
<!--&lt;!&ndash;											if (!isValid) {&ndash;&gt;-->
<!--&lt;!&ndash;												alert("Mohon lengkapi semua field yang dibutuhkan.");&ndash;&gt;-->
<!--&lt;!&ndash;											}&ndash;&gt;-->

<!--&lt;!&ndash;											return isValid;&ndash;&gt;-->
<!--&lt;!&ndash;										}&ndash;&gt;-->


<!--&lt;!&ndash;								function addRow() {&ndash;&gt;-->
<!--&lt;!&ndash;											document.getElementById("idRencana").value =&ndash;&gt;-->
<!--&lt;!&ndash;												"${idRencana}";&ndash;&gt;-->
<!--&lt;!&ndash;											// Dapatkan div kontainer untuk baris-baris barang&ndash;&gt;-->
<!--&lt;!&ndash;											var barangRows = document.getElementById("barangRows");&ndash;&gt;-->

<!--&lt;!&ndash;											// Buat elemen div baru untuk baris barang&ndash;&gt;-->
<!--&lt;!&ndash;											var newBarangRow = document.createElement("div");&ndash;&gt;-->
<!--&lt;!&ndash;											newBarangRow.className = "barangRow";&ndash;&gt;-->

<!--&lt;!&ndash;											// Tambahkan input namaBarang pada baris baru&ndash;&gt;-->
<!--&lt;!&ndash;											var inputNamaBarang = document.createElement("input");&ndash;&gt;-->
<!--&lt;!&ndash;											inputNamaBarang.type = "text";&ndash;&gt;-->
<!--&lt;!&ndash;											inputNamaBarang.placeholder = "Nama Barang";&ndash;&gt;-->
<!--&lt;!&ndash;											inputNamaBarang.name =&ndash;&gt;-->
<!--&lt;!&ndash;												"listBarang[" +&ndash;&gt;-->
<!--&lt;!&ndash;												barangRows.childElementCount +&ndash;&gt;-->
<!--&lt;!&ndash;												"].namaBarang"; // Sesuaikan dengan atribut lain yang dibutuhkan&ndash;&gt;-->
<!--&lt;!&ndash;											newBarangRow.appendChild(inputNamaBarang);&ndash;&gt;-->

<!--&lt;!&ndash;											// Tambahkan tombol untuk menghapus baris&ndash;&gt;-->
<!--&lt;!&ndash;											var deleteButton = document.createElement("button");&ndash;&gt;-->
<!--&lt;!&ndash;											deleteButton.type = "button";&ndash;&gt;-->
<!--&lt;!&ndash;											deleteButton.textContent = "Hapus Baris";&ndash;&gt;-->
<!--&lt;!&ndash;											deleteButton.onclick = function () {&ndash;&gt;-->
<!--&lt;!&ndash;												removeRow(this);&ndash;&gt;-->
<!--&lt;!&ndash;											};&ndash;&gt;-->
<!--&lt;!&ndash;											newBarangRow.appendChild(deleteButton);&ndash;&gt;-->

<!--&lt;!&ndash;											// Tambahkan baris baru ke dalam kontainer&ndash;&gt;-->
<!--&lt;!&ndash;											barangRows.appendChild(newBarangRow);&ndash;&gt;-->
<!--&lt;!&ndash;										}&ndash;&gt;-->

<!--&lt;!&ndash;										function removeRow(button) {&ndash;&gt;-->
<!--&lt;!&ndash;											document.getElementById("idRencana").value =&ndash;&gt;-->
<!--&lt;!&ndash;												"${idRencana}";&ndash;&gt;-->
<!--&lt;!&ndash;											// Dapatkan elemen div baris yang berisi tombol yang diklik&ndash;&gt;-->
<!--&lt;!&ndash;											var rowToRemove = button.parentNode;&ndash;&gt;-->

<!--&lt;!&ndash;											// Dapatkan elemen div kontainer untuk baris-baris barang&ndash;&gt;-->
<!--&lt;!&ndash;											var barangRows = document.getElementById("barangRows");&ndash;&gt;-->

<!--&lt;!&ndash;											// Hapus baris dari kontainer&ndash;&gt;-->
<!--&lt;!&ndash;											barangRows.removeChild(rowToRemove);&ndash;&gt;-->
<!--&lt;!&ndash;										}&ndash;&gt;-->


<!--&lt;!&ndash;										// Function to validate the whole form before submission&ndash;&gt;-->
<!--&lt;!&ndash;										function validateForm() {&ndash;&gt;-->
<!--&lt;!&ndash;											var inputs = document.querySelectorAll(".jumlahBarang");&ndash;&gt;-->
<!--&lt;!&ndash;											var isValid = true;&ndash;&gt;-->
<!--&lt;!&ndash;											inputs.forEach(function (input) {&ndash;&gt;-->
<!--&lt;!&ndash;												if (input.value === "") {&ndash;&gt;-->
<!--&lt;!&ndash;													isValid = false;&ndash;&gt;-->
<!--&lt;!&ndash;												}&ndash;&gt;-->
<!--&lt;!&ndash;											});&ndash;&gt;-->
<!--&lt;!&ndash;											if (!isValid) {&ndash;&gt;-->
<!--&lt;!&ndash;												alert("jumlah barang wajib diisi.");&ndash;&gt;-->
<!--&lt;!&ndash;											} else {&ndash;&gt;-->
<!--&lt;!&ndash;												document.getElementById("form-pengadaan-update").submit();&ndash;&gt;-->
<!--&lt;!&ndash;											}&ndash;&gt;-->
<!--&lt;!&ndash;										}&ndash;&gt;-->



<!--&lt;!&ndash;								document.addEventListener("DOMContentLoaded", function() {&ndash;&gt;-->
<!--&lt;!&ndash;									var kodeVendorSelect = document.getElementById("kodeVendor");&ndash;&gt;-->

<!--&lt;!&ndash;									kodeVendorSelect.addEventListener("change", function() {&ndash;&gt;-->
<!--&lt;!&ndash;										var container = document.getElementById("container");&ndash;&gt;-->

<!--&lt;!&ndash;										while (container.firstChild) {&ndash;&gt;-->
<!--&lt;!&ndash;											container.removeChild(container.firstChild);&ndash;&gt;-->
<!--&lt;!&ndash;										}&ndash;&gt;-->

<!--&lt;!&ndash;										var vendorKodeInput = document.getElementById("vendorKode");&ndash;&gt;-->
<!--&lt;!&ndash;										vendorKodeInput.value = "";&ndash;&gt;-->
<!--&lt;!&ndash;									});&ndash;&gt;-->
<!--&lt;!&ndash;								});&ndash;&gt;-->



<!--&lt;!&ndash;&lt;!&ndash;                            // Function to validate each kuantitas field&ndash;&gt;&ndash;&gt;-->
<!--&lt;!&ndash;&lt;!&ndash;                    function validateTambahBarang() {&ndash;&gt;&ndash;&gt;-->
<!--&lt;!&ndash;&lt;!&ndash;                        var inputs = document.querySelectorAll('.jumlahBarang');&ndash;&gt;&ndash;&gt;-->
<!--&lt;!&ndash;&lt;!&ndash;                        var isValid = true;&ndash;&gt;&ndash;&gt;-->
<!--&lt;!&ndash;&lt;!&ndash;                        inputs.forEach(function(input) {&ndash;&gt;&ndash;&gt;-->
<!--&lt;!&ndash;&lt;!&ndash;                            if (input.value === "") {&ndash;&gt;&ndash;&gt;-->
<!--&lt;!&ndash;&lt;!&ndash;                                isValid = false;&ndash;&gt;&ndash;&gt;-->
<!--&lt;!&ndash;&lt;!&ndash;                            }&ndash;&gt;&ndash;&gt;-->
<!--&lt;!&ndash;&lt;!&ndash;                        });&ndash;&gt;&ndash;&gt;-->
<!--&lt;!&ndash;&lt;!&ndash;                        if (!isValid) {&ndash;&gt;&ndash;&gt;-->
<!--&lt;!&ndash;&lt;!&ndash;                            alert("Jumlah barang wajib diisi.");&ndash;&gt;&ndash;&gt;-->
<!--&lt;!&ndash;&lt;!&ndash;                        }&ndash;&gt;&ndash;&gt;-->
<!--&lt;!&ndash;&lt;!&ndash;                        return isValid;&ndash;&gt;&ndash;&gt;-->
<!--&lt;!&ndash;&lt;!&ndash;                    }&ndash;&gt;&ndash;&gt;-->

<!--&lt;!&ndash;&lt;!&ndash;                    // Function to validate the whole form before submission&ndash;&gt;&ndash;&gt;-->
<!--&lt;!&ndash;&lt;!&ndash;                    function validateForm() {&ndash;&gt;&ndash;&gt;-->
<!--&lt;!&ndash;&lt;!&ndash;                        var inputs = document.querySelectorAll('.jumlahBarang');&ndash;&gt;&ndash;&gt;-->
<!--&lt;!&ndash;&lt;!&ndash;                        var isValid = true;&ndash;&gt;&ndash;&gt;-->
<!--&lt;!&ndash;&lt;!&ndash;                        inputs.forEach(function(input) {&ndash;&gt;&ndash;&gt;-->
<!--&lt;!&ndash;&lt;!&ndash;                            if (input.value === "") {&ndash;&gt;&ndash;&gt;-->
<!--&lt;!&ndash;&lt;!&ndash;                                isValid = false;&ndash;&gt;&ndash;&gt;-->
<!--&lt;!&ndash;&lt;!&ndash;                            }&ndash;&gt;&ndash;&gt;-->
<!--&lt;!&ndash;&lt;!&ndash;                        });&ndash;&gt;&ndash;&gt;-->
<!--&lt;!&ndash;&lt;!&ndash;                        if (!isValid) {&ndash;&gt;&ndash;&gt;-->
<!--&lt;!&ndash;&lt;!&ndash;                            alert("jumlah barang wajib diisi.");&ndash;&gt;&ndash;&gt;-->
<!--&lt;!&ndash;&lt;!&ndash;                        } else {&ndash;&gt;&ndash;&gt;-->
<!--&lt;!&ndash;&lt;!&ndash;                            document.getElementById("form-pengadaan-update").submit();&ndash;&gt;&ndash;&gt;-->
<!--&lt;!&ndash;&lt;!&ndash;                        }&ndash;&gt;&ndash;&gt;-->
<!--&lt;!&ndash;&lt;!&ndash;                    }&ndash;&gt;&ndash;&gt;-->

<!--&lt;!&ndash;&lt;!&ndash;                    function addRow() {&ndash;&gt;&ndash;&gt;-->
<!--&lt;!&ndash;&lt;!&ndash;                      // Dapatkan div kontainer untuk baris-baris barang&ndash;&gt;&ndash;&gt;-->
<!--&lt;!&ndash;&lt;!&ndash;                      var barangRows = document.getElementById("barangRows");&ndash;&gt;&ndash;&gt;-->

<!--&lt;!&ndash;&lt;!&ndash;                      // Buat elemen div baru untuk baris barang&ndash;&gt;&ndash;&gt;-->
<!--&lt;!&ndash;&lt;!&ndash;                      var newBarangRow = document.createElement("div");&ndash;&gt;&ndash;&gt;-->
<!--&lt;!&ndash;&lt;!&ndash;                      newBarangRow.className = "barangRow";&ndash;&gt;&ndash;&gt;-->

<!--&lt;!&ndash;&lt;!&ndash;                      // Tambahkan input namaBarang pada baris baru&ndash;&gt;&ndash;&gt;-->
<!--&lt;!&ndash;&lt;!&ndash;                      var inputNamaBarang = document.createElement("input");&ndash;&gt;&ndash;&gt;-->
<!--&lt;!&ndash;&lt;!&ndash;                      inputNamaBarang.type = "text";&ndash;&gt;&ndash;&gt;-->
<!--&lt;!&ndash;&lt;!&ndash;                      inputNamaBarang.placeholder = "Nama Barang";&ndash;&gt;&ndash;&gt;-->
<!--&lt;!&ndash;&lt;!&ndash;                      inputNamaBarang.name =&ndash;&gt;&ndash;&gt;-->
<!--&lt;!&ndash;&lt;!&ndash;                        "listBarang[" + barangRows.childElementCount + "].namaBarang"; // Sesuaikan dengan atribut lain yang dibutuhkan&ndash;&gt;&ndash;&gt;-->
<!--&lt;!&ndash;&lt;!&ndash;                      newBarangRow.appendChild(inputNamaBarang);&ndash;&gt;&ndash;&gt;-->

<!--&lt;!&ndash;&lt;!&ndash;                      // Tambahkan tombol untuk menghapus baris&ndash;&gt;&ndash;&gt;-->
<!--&lt;!&ndash;&lt;!&ndash;                      var deleteButton = document.createElement("button");&ndash;&gt;&ndash;&gt;-->
<!--&lt;!&ndash;&lt;!&ndash;                      deleteButton.type = "button";&ndash;&gt;&ndash;&gt;-->
<!--&lt;!&ndash;&lt;!&ndash;                      deleteButton.textContent = "Hapus Baris";&ndash;&gt;&ndash;&gt;-->
<!--&lt;!&ndash;&lt;!&ndash;                      deleteButton.onclick = function () {&ndash;&gt;&ndash;&gt;-->
<!--&lt;!&ndash;&lt;!&ndash;                        removeRow(this);&ndash;&gt;&ndash;&gt;-->
<!--&lt;!&ndash;&lt;!&ndash;                      };&ndash;&gt;&ndash;&gt;-->
<!--&lt;!&ndash;&lt;!&ndash;                      newBarangRow.appendChild(deleteButton);&ndash;&gt;&ndash;&gt;-->

<!--&lt;!&ndash;&lt;!&ndash;                      // Tambahkan baris baru ke dalam kontainer&ndash;&gt;&ndash;&gt;-->
<!--&lt;!&ndash;&lt;!&ndash;                      barangRows.appendChild(newBarangRow);&ndash;&gt;&ndash;&gt;-->
<!--&lt;!&ndash;&lt;!&ndash;                    }&ndash;&gt;&ndash;&gt;-->

<!--&lt;!&ndash;&lt;!&ndash;                    function removeRow(button) {&ndash;&gt;&ndash;&gt;-->
<!--&lt;!&ndash;&lt;!&ndash;                      // Dapatkan elemen div baris yang berisi tombol yang diklik&ndash;&gt;&ndash;&gt;-->
<!--&lt;!&ndash;&lt;!&ndash;                      var rowToRemove = button.parentNode;&ndash;&gt;&ndash;&gt;-->

<!--&lt;!&ndash;&lt;!&ndash;                      // Dapatkan elemen div kontainer untuk baris-baris barang&ndash;&gt;&ndash;&gt;-->
<!--&lt;!&ndash;&lt;!&ndash;                      var barangRows = document.getElementById("barangRows");&ndash;&gt;&ndash;&gt;-->

<!--&lt;!&ndash;&lt;!&ndash;                      // Hapus baris dari kontainer&ndash;&gt;&ndash;&gt;-->
<!--&lt;!&ndash;&lt;!&ndash;                      barangRows.removeChild(rowToRemove);&ndash;&gt;&ndash;&gt;-->
<!--&lt;!&ndash;&lt;!&ndash;                    }&ndash;&gt;&ndash;&gt;-->

<!--&lt;!&ndash;&lt;!&ndash;                    function validateForm() {&ndash;&gt;&ndash;&gt;-->
<!--&lt;!&ndash;&lt;!&ndash;                    // Ambil semua input dalam form&ndash;&gt;&ndash;&gt;-->
<!--&lt;!&ndash;&lt;!&ndash;                    var inputs = document.querySelectorAll('input, select');&ndash;&gt;&ndash;&gt;-->
<!--&lt;!&ndash;&lt;!&ndash;                    var isValid = true;&ndash;&gt;&ndash;&gt;-->

<!--&lt;!&ndash;&lt;!&ndash;                    // Loop melalui setiap input&ndash;&gt;&ndash;&gt;-->
<!--&lt;!&ndash;&lt;!&ndash;                    inputs.forEach(function(input) {&ndash;&gt;&ndash;&gt;-->
<!--&lt;!&ndash;&lt;!&ndash;                        // Jika input kosong dan required, tandai sebagai tidak valid&ndash;&gt;&ndash;&gt;-->
<!--&lt;!&ndash;&lt;!&ndash;                        if (input.required && !input.value.trim()) {&ndash;&gt;&ndash;&gt;-->
<!--&lt;!&ndash;&lt;!&ndash;                            isValid = false;&ndash;&gt;&ndash;&gt;-->
<!--&lt;!&ndash;&lt;!&ndash;                            // Tambahkan class 'is-invalid' untuk menandai input yang tidak valid&ndash;&gt;&ndash;&gt;-->
<!--&lt;!&ndash;&lt;!&ndash;                            input.classList.add('is-invalid');&ndash;&gt;&ndash;&gt;-->
<!--&lt;!&ndash;&lt;!&ndash;                        }&ndash;&gt;&ndash;&gt;-->
<!--&lt;!&ndash;&lt;!&ndash;                    });&ndash;&gt;&ndash;&gt;-->

<!--&lt;!&ndash;&lt;!&ndash;                    // Jika ada field yang tidak diisi, tampilkan pesan kesalahan&ndash;&gt;&ndash;&gt;-->
<!--&lt;!&ndash;&lt;!&ndash;                    if (!isValid) {&ndash;&gt;&ndash;&gt;-->
<!--&lt;!&ndash;&lt;!&ndash;                        alert("Mohon lengkapi semua field yang dibutuhkan.");&ndash;&gt;&ndash;&gt;-->
<!--&lt;!&ndash;&lt;!&ndash;                    }&ndash;&gt;&ndash;&gt;-->

<!--&lt;!&ndash;&lt;!&ndash;                    return isValid;&ndash;&gt;&ndash;&gt;-->
<!--&lt;!&ndash;&lt;!&ndash;                }&ndash;&gt;&ndash;&gt;-->

<!--&lt;!&ndash;&lt;!&ndash;                function validateForm() {&ndash;&gt;&ndash;&gt;-->
<!--&lt;!&ndash;&lt;!&ndash;                        // Ambil semua select dalam form&ndash;&gt;&ndash;&gt;-->
<!--&lt;!&ndash;&lt;!&ndash;                        var selectInputs = document.querySelectorAll('select');&ndash;&gt;&ndash;&gt;-->

<!--&lt;!&ndash;&lt;!&ndash;                        // Loop melalui setiap select&ndash;&gt;&ndash;&gt;-->
<!--&lt;!&ndash;&lt;!&ndash;                        for (var i = 0; i < selectInputs.length; i++) {&ndash;&gt;&ndash;&gt;-->
<!--&lt;!&ndash;&lt;!&ndash;                            // Periksa apakah select tidak memiliki nilai&ndash;&gt;&ndash;&gt;-->
<!--&lt;!&ndash;&lt;!&ndash;                            if (!selectInputs[i].value) {&ndash;&gt;&ndash;&gt;-->
<!--&lt;!&ndash;&lt;!&ndash;                                // Tampilkan peringatan kepada pengguna&ndash;&gt;&ndash;&gt;-->
<!--&lt;!&ndash;&lt;!&ndash;                                alert("Mohon pilih barang untuk setiap baris.");&ndash;&gt;&ndash;&gt;-->

<!--&lt;!&ndash;&lt;!&ndash;                                // Berhenti validasi dan mencegah pengiriman form&ndash;&gt;&ndash;&gt;-->
<!--&lt;!&ndash;&lt;!&ndash;                                return false;&ndash;&gt;&ndash;&gt;-->
<!--&lt;!&ndash;&lt;!&ndash;                            }&ndash;&gt;&ndash;&gt;-->
<!--&lt;!&ndash;&lt;!&ndash;                        }&ndash;&gt;&ndash;&gt;-->

<!--&lt;!&ndash;&lt;!&ndash;                        // Jika semua select memiliki nilai, form bisa disubmit&ndash;&gt;&ndash;&gt;-->
<!--&lt;!&ndash;&lt;!&ndash;                        return true;&ndash;&gt;&ndash;&gt;-->
<!--&lt;!&ndash;&lt;!&ndash;                    }&ndash;&gt;&ndash;&gt;-->

<!--&lt;!&ndash;&lt;!&ndash;                    document.addEventListener("DOMContentLoaded", function() {&ndash;&gt;&ndash;&gt;-->
<!--&lt;!&ndash;&lt;!&ndash;									var kodeVendorSelect = document.getElementById("kodeVendor");&ndash;&gt;&ndash;&gt;-->

<!--&lt;!&ndash;&lt;!&ndash;									kodeVendorSelect.addEventListener("change", function() {&ndash;&gt;&ndash;&gt;-->
<!--&lt;!&ndash;&lt;!&ndash;										var container = document.getElementById("container");&ndash;&gt;&ndash;&gt;-->

<!--&lt;!&ndash;&lt;!&ndash;										while (container.firstChild) {&ndash;&gt;&ndash;&gt;-->
<!--&lt;!&ndash;&lt;!&ndash;											container.removeChild(container.firstChild);&ndash;&gt;&ndash;&gt;-->
<!--&lt;!&ndash;&lt;!&ndash;										}&ndash;&gt;&ndash;&gt;-->

<!--&lt;!&ndash;&lt;!&ndash;										var vendorKodeInput = document.getElementById("vendorKode");&ndash;&gt;&ndash;&gt;-->
<!--&lt;!&ndash;&lt;!&ndash;										vendorKodeInput.value = "";&ndash;&gt;&ndash;&gt;-->
<!--&lt;!&ndash;&lt;!&ndash;									});&ndash;&gt;&ndash;&gt;-->
<!--&lt;!&ndash;&lt;!&ndash;								});&ndash;&gt;&ndash;&gt;-->

<!--&lt;!&ndash;                  </script>&ndash;&gt;-->
<!--&lt;!&ndash;                        </div>&ndash;&gt;-->
<!--&lt;!&ndash;                    </div>&ndash;&gt;-->
<!--&lt;!&ndash;                </div>&ndash;&gt;-->

<!--&lt;!&ndash;            </div>&ndash;&gt;-->
<!--&lt;!&ndash;</body>&ndash;&gt;-->
<!--&lt;!&ndash;</html>&ndash;&gt;-->


<!--<!DOCTYPE html>-->
<!--<html lang="en" xmlns:th="http://thymeleaf.org">-->
<!--<head>-->
<!--    <title>Update Pengadaan</title>-->
<!--    <object th:insert="~{fragments/fragment :: css}" th:remove="tag"></object>-->
<!--    <object th:insert="~{fragments/fragment :: js}" th:remove="tag"></object>-->
<!--</head>-->
<!--<body>-->
<!--&lt;!&ndash;<nav th:replace="~{fragments/fragment :: navbar('permintaan-pengiriman')}"></nav>&ndash;&gt;-->
<!--<div class="container-fluid">-->
<!--    <div class="row">-->
<!--        &lt;!&ndash;        <div th:replace=~{"fragments/sidebarf :: sidebar}" class="col-lg-3 col-md-4" ></div>&ndash;&gt;-->
<!--        <div th:replace="~{fragments/sidebarf}" class="col-lg-3 col-md-4"></div>-->
<!--        <div class="col">-->
<!--            <div id="addpengadaan">-->
<!--                <div class="card mx-lg-5 m-4 p-4">-->
<!--                    <h2 class="card-header text-center p-3">Update Pengadaan</h2>-->
<!--                    <div class="card-body">-->
<!--                        <div class="justify-content-center">-->
<!--                            <form-->
<!--                                    id="form-pengadaan-update"-->
<!--                                    th:action="@{'/pengadaan/' + ${pengadaanDTO.idPengadaan} + '/update'}"-->
<!--                                    th:object="${pengadaanDTO}"-->
<!--                                    method="POST"-->
<!--                                    class="mx-4"-->
<!--                            >-->
<!--                                <input type="hidden" name="idPengadaan" th:value="${idPengadaan}" />-->
<!--                                <div class="row">-->
<!--                                    <div class="col">-->
<!--                                        <label>-->
<!--                                            <b style="font-size: 24px"> Nama Pengadaan: </b-->
<!--                                            ><span style="color: red">*</span>-->
<!--                                        </label>-->
<!--                                        <input-->
<!--                                                class="form-control"-->
<!--                                                type="text"-->
<!--                                                required="required"-->
<!--                                                th:field="*{namaPengadaan}"-->
<!--                                                th:value="${pengadaanDTO != null} ? ${pengadaanDTO.namaPengadaan} : ''"-->
<!--                                        />-->
<!--                                        <br /><br />-->

<!--                                        <label>-->
<!--                                            <b style="font-size: 24px"> Tanggal Pengadaan: </b-->
<!--                                            ><span style="color: red">*</span></label-->
<!--                                        >-->
<!--                                        <input-->
<!--                                                class="form-control"-->
<!--                                                type="date"-->
<!--                                                required="required"-->
<!--                                                th:field="*{tanggalPengadaan}"-->
<!--                                                th:value="${pengadaanDTO != null ? pengadaanDTO.tanggalPengadaan : ''}"-->
<!--                                        />-->
<!--                                        <br /><br />-->

<!--                                        <label>-->
<!--                                            <b style="font-size: 24px"> Nama Vendor: </b-->
<!--                                            ><span style="color: red">*</span></label-->
<!--                                        >-->
<!--                                        <table class="table">-->
<!--                                            <tbody>-->
<!--                                            <tr>-->
<!--                                                <select-->
<!--                                                        class="form-control"-->
<!--                                                        name="kodeVendor"-->
<!--                                                        id="kodeVendor"-->
<!--                                                        th:field="*{vendor.kodeVendor}"-->
<!--                                                >-->
<!--                                                    <option-->
<!--                                                            th:each="vendor: ${listVendor}"-->
<!--                                                            th:value="${vendor.kodeVendor}"-->
<!--                                                            th:text="${vendor.namaVendor}"-->
<!--                                                            th:selected="${pengadaanDTO != null && pengadaanDTO.vendor != null && pengadaanDTO.vendor.kodeVendor == vendor.kodeVendor}"-->
<!--                                                    ></option>-->
<!--                                                </select>-->
<!--                                            </tr>-->
<!--                                            </tbody>-->
<!--                                        </table>-->
<!--                                        <br /><br />-->
<!--                                    </div>-->
<!--                                </div>-->

<!--                                <div class="text-right">-->
<!--                                    &lt;!&ndash;                        <button type="submit" class="my-4 ml-2 btn btn-primary" id="add-row" name="addRow">+ Tambah Row</button>&ndash;&gt;-->
<!--                                    <button-->
<!--                                            type="submit"-->
<!--                                            class="btn btn-primary btn-lg px-5"-->
<!--                                            name="addRow"-->
<!--                                            onclick="return validateTambahBarang()"-->
<!--                                    >-->
<!--                                        + Tambah Barang-->
<!--                                    </button>-->
<!--                                </div>-->
<!--                                <br /><br />-->

<!--                                <table class="table table-bordered">-->
<!--                                    <thead class="thead-dark">-->
<!--                                    <tr>-->
<!--                                        <th scope="col">No</th>-->
<!--                                        <th scope="col">Barang</th>-->
<!--                                        <th scope="col">Jumlah Barang</th>-->
<!--                                        <th scope="col">Harga Satuan</th>-->
<!--                                        <th scope="col">Diskon Satuan (%)</th>-->
<!--                                        <th scope="col">Action</th>-->
<!--                                    </tr>-->
<!--                                    </thead>-->

<!--                                    <tbody id="container">-->
<!--                                    <tr th:each="barang, iterationStatus : *{listPengadaanBarang}">-->
<!--                                        <td th:text="${iterationStatus.count}"></td>-->
<!--                                        <td>-->
<!--                                            <select-->
<!--                                                    th:field="*{listPengadaanBarang[__${iterationStatus.index}__].barang}"-->
<!--                                                    class="form-control custom-select gap-2" required="required"-->
<!--                                            >-->
<!--                                                <option value="">Pilih Barang</option>-->
<!--                                                <th:block th:each="barangExisting : ${listBarang}">-->
<!--                                                    <option-->
<!--                                                            th:if="${barangExisting.vendorList.![kodeVendor].contains(pengadaanDTO.vendor.kodeVendor)}"-->
<!--                                                            th:value="${barangExisting.kodeBarang}"-->
<!--                                                            th:text="${barangExisting.namaBarang}"-->
<!--                                                            th:selected="${pengadaanDTO != null && pengadaanDTO.listPengadaanBarang != null && pengadaanDTO.listPengadaanBarang[__${iterationStatus.index}__].barang != null && pengadaanDTO.listPengadaanBarang[__${iterationStatus.index}__].barang.kodeBarang == barangExisting.kodeBarang}"-->
<!--                                                    ></option>-->
<!--                                                </th:block>-->
<!--                                            </select>-->
<!--                                        </td>-->

<!--                                        <td>-->
<!--                                            <input-->
<!--                                                    type="number"-->
<!--                                                    th:field="*{listPengadaanBarang[__${iterationStatus.index}__].jumlahBarang}"-->
<!--                                                    class="form-control jumlahBarang"-->
<!--                                                    min="1"-->
<!--                                                    step="1"-->
<!--                                                    placeholder="Jumlah Barang"-->
<!--                                            />-->
<!--                                        </td>-->
<!--                                        <td>-->
<!--                                            <input-->
<!--                                                    type="number"-->
<!--                                                    th:field="*{listPengadaanBarang[__${iterationStatus.index}__].hargaBarang}"-->
<!--                                                    class="form-control"-->
<!--                                                    min="0"-->
<!--                                                    step="1"-->
<!--                                                    placeholder="Harga Barang"-->
<!--                                            />-->
<!--                                        </td>-->
<!--                                        <td>-->
<!--                                            <input-->
<!--                                                    type="number"-->
<!--                                                    th:field="*{listPengadaanBarang[__${iterationStatus.index}__].diskonSatuan}"-->
<!--                                                    class="form-control"-->
<!--                                                    min="0"-->
<!--                                                    max="100"-->
<!--                                                    step="1"-->
<!--                                                    required="required"-->
<!--                                                    placeholder="Diskon Satuan (%)"-->
<!--                                            />-->
<!--                                        </td>-->
<!--                                        <td>-->
<!--                                            <button-->
<!--                                                    th:value="${iterationStatus.index}"-->
<!--                                                    class="btn btn-danger"-->
<!--                                                    type="submit"-->
<!--                                                    name="deleteRow"-->
<!--                                                    onclick="deleteRowAndSubmit(this)"-->
<!--                                            >-->
<!--                                                Hapus-->
<!--                                            </button>-->
<!--                                        </td>-->
<!--                                    </tr>-->
<!--                                    </tbody>-->
<!--                                </table>-->

<!--                                <div class="row">-->
<!--                                    <div class="col">-->
<!--                                        <label>-->
<!--                                            <b style="font-size: 24px">-->
<!--                                                Diskon Keseluruhan (%): </b-->
<!--                                            ><span style="color: red">*</span></label-->
<!--                                        >-->
<!--                                        <input-->
<!--                                                class="form-control"-->
<!--                                                type="number"-->
<!--                                                required="required"-->
<!--                                                min="0"-->
<!--                                                max="100"-->
<!--                                                step="1"-->
<!--                                                th:field="*{diskonKeseluruhan}"-->
<!--                                        />-->
<!--                                        <br /><br />-->
<!--                                    </div>-->
<!--                                </div>-->

<!--                                <div class="d-flex justify-content-center">-->
<!--                                    <a class="btn btn-danger btn-lg me-4 px-5" href="/"-->
<!--                                    >Batal</a-->
<!--                                    >-->
<!--                                    &lt;!&ndash; me-4 untuk memberikan margin kanan sebesar 20px &ndash;&gt;-->
<!--                                    <button class="btn btn-primary btn-lg px-5" type="submit" >-->
<!--                                        Simpan-->
<!--                                    </button>-->
<!--                                </div>-->
<!--                                <input type="hidden" id="vendorKode" name="kodeVendor" />-->
<!--                            </form>-->
<!--                            <script>-->
<!--							function validateTambahBarang() {-->
<!--								var selectedVendor = document.getElementById("kodeVendor");-->
<!--								var kodeVendor = selectedVendor.options[selectedVendor.selectedIndex].value;-->
<!--								console.log("Selected kodeVendor:", kodeVendor);-->
<!--								document.getElementById("vendorKode").value = kodeVendor;-->

<!--								var inputs = document.querySelectorAll('.jumlahBarang');-->
<!--								var isValid = true;-->
<!--								inputs.forEach(function(input) {-->
<!--									if (input.value === "") {-->
<!--										isValid = false;-->
<!--									}-->
<!--								});-->
<!--								if (!isValid) {-->
<!--									alert("Kuantitas barang wajib diisi.");-->
<!--								}-->
<!--								return isValid;-->
<!--							  }-->

<!--							  function validateForm() {-->
<!--											// Ambil semua input dalam form-->
<!--											var inputs = document.querySelectorAll("input, select");-->
<!--											var isValid = true;-->

<!--											// Loop melalui setiap input-->
<!--											inputs.forEach(function (input) {-->
<!--												// Jika input kosong dan required, tandai sebagai tidak valid-->
<!--												if (input.required && !input.value.trim()) {-->
<!--													isValid = false;-->
<!--													// Tambahkan class 'is-invalid' untuk menandai input yang tidak valid-->
<!--													input.classList.add("is-invalid");-->
<!--												}-->
<!--											});-->

<!--											// Jika ada field yang tidak diisi, tampilkan pesan kesalahan-->
<!--											if (!isValid) {-->
<!--												alert("Mohon lengkapi semua field yang dibutuhkan.");-->
<!--											}-->

<!--											return isValid;-->
<!--										}-->


<!--								function addRow() {-->
<!--											document.getElementById("idPengadaan").value =-->
<!--												"${idPengadaan}";-->
<!--											// Dapatkan div kontainer untuk baris-baris barang-->
<!--											var barangRows = document.getElementById("barangRows");-->

<!--											// Buat elemen div baru untuk baris barang-->
<!--											var newBarangRow = document.createElement("div");-->
<!--											newBarangRow.className = "barangRow";-->

<!--											// Tambahkan input namaBarang pada baris baru-->
<!--											var inputNamaBarang = document.createElement("input");-->
<!--											inputNamaBarang.type = "text";-->
<!--											inputNamaBarang.placeholder = "Nama Barang";-->
<!--											inputNamaBarang.name =-->
<!--												"listBarang[" +-->
<!--												barangRows.childElementCount +-->
<!--												"].namaBarang"; // Sesuaikan dengan atribut lain yang dibutuhkan-->
<!--											newBarangRow.appendChild(inputNamaBarang);-->

<!--											// Tambahkan tombol untuk menghapus baris-->
<!--											var deleteButton = document.createElement("button");-->
<!--											deleteButton.type = "button";-->
<!--											deleteButton.textContent = "Hapus Baris";-->
<!--											deleteButton.onclick = function () {-->
<!--												removeRow(this);-->
<!--											};-->
<!--											newBarangRow.appendChild(deleteButton);-->

<!--											// Tambahkan baris baru ke dalam kontainer-->
<!--											barangRows.appendChild(newBarangRow);-->
<!--										}-->

<!--										function removeRow(button) {-->
<!--											document.getElementById("idPengadaan").value =-->
<!--												"${idPengadaan}";-->
<!--											// Dapatkan elemen div baris yang berisi tombol yang diklik-->
<!--											var rowToRemove = button.parentNode;-->

<!--											// Dapatkan elemen div kontainer untuk baris-baris barang-->
<!--											var barangRows = document.getElementById("barangRows");-->

<!--											// Hapus baris dari kontainer-->
<!--											barangRows.removeChild(rowToRemove);-->
<!--										}-->


<!--										// Function to validate the whole form before submission-->
<!--										function validateForm() {-->
<!--											var inputs = document.querySelectorAll(".jumlahBarang");-->
<!--											var isValid = true;-->
<!--											inputs.forEach(function (input) {-->
<!--												if (input.value === "") {-->
<!--													isValid = false;-->
<!--												}-->
<!--											});-->
<!--											if (!isValid) {-->
<!--												alert("jumlah barang wajib diisi.");-->
<!--											} else {-->
<!--												document.getElementById("form-pengadaan-update").submit();-->
<!--											}-->
<!--										}-->



<!--								document.addEventListener("DOMContentLoaded", function() {-->
<!--									var kodeVendorSelect = document.getElementById("kodeVendor");-->

<!--									kodeVendorSelect.addEventListener("change", function() {-->
<!--										var container = document.getElementById("container");-->

<!--										while (container.firstChild) {-->
<!--											container.removeChild(container.firstChild);-->
<!--										}-->

<!--										var vendorKodeInput = document.getElementById("vendorKode");-->
<!--										vendorKodeInput.value = "";-->
<!--									});-->
<!--								});-->

<!--                  </script>-->

<!--                        </div>-->
<!--                    </div>-->
<!--                </div>-->
<!--            </div>-->
<!--        </div>-->
<!--    </div>-->
<!--</div>-->
<!--</body>-->

<!--</html>-->


<!DOCTYPE html>
<html lang="en" xmlns:th="http://thymeleaf.org">
<head>
    <title>Update Pengadaan</title>
    <object th:insert="~{fragments/fragment :: css}" th:remove="tag"></object>
    <object th:insert="~{fragments/fragment :: js}" th:remove="tag"></object>
</head>

<body>
<!--<nav th:replace="~{fragments/fragment :: navbar('permintaan-pengiriman')}"></nav>-->
<div class="container-fluid">
    <div class="row">
        <!--        <div th:replace=~{"fragments/sidebarf :: sidebar}" class="col-lg-3 col-md-4" ></div>-->
        <div th:replace="~{fragments/sidebarf}" class="col-lg-3 col-md-4"></div>
        <div class="col">
            <div id="updatepengadaan">
                <div class="card mx-lg-5 m-4 p-4">
                    <h2 class="card-header text-center p-3">Update Pengadaan</h2>
                    <div class="card-body">
                        <div class="justify-content-center">
                            <form id="form-pengadaan-update"
                                  th:action="@{'/pengadaan/' + ${pengadaanDTO.idPengadaan} + '/update'}"
                                  th:object="${pengadaanDTO}"
                                  method="POST"
                                  class="mx-4"
                            >
                                <input type="hidden" name="idPengadaan" th:field="*{idPengadaan}" />
                                <input type="hidden" name="_csrf" th:value="${_csrf.token}" />
                                <!--                                <input type="hidden" name="addRow" th:value="*{true}" />-->
                                <!--                                <input type="hidden" name="${_csrf.parameterName}" value="${_csrf.token}"/>-->
                                <!--                                <input type="hidden" name="addRow" th:if="${not #lists.isEmpty(pengadaanDTO.listBarang)}" />-->
                                <!--                                <input type="hidden" name="deleteRow" th:if="${not #lists.isEmpty(pengadaanDTO.listBarang)}" />-->
                                <div class="row">
                                    <div class="col">
                                        <label> <b style="font-size:24px"> Nama Pengadaan: </b><span style="color: red;">*</span> </label>
                                        <input
                                                class="form-control"
                                                type="text"
                                                required="required"
                                                th:field="*{namaPengadaan}"
                                        />
                                        <br><br>

                                        <label> <b style="font-size:24px"> Tanggal Pengadaan: </b><span style="color: red;">*</span></label>
                                        <input
                                                class="form-control"
                                                type="date"
                                                required="required"
                                                th:field="*{tanggalPengadaan}"
                                        />
                                        <br><br>

                                        <label> <b style="font-size:24px"> Nama Vendor: </b><span style="color: red;">*</span></label>
                                        <table class="table">
                                            <tbody>
                                            <tr>
                                                <select
                                                        class="form-control"
                                                        name="kodeVendor"
                                                        id="kodeVendor"
                                                        th:field="*{vendor.kodeVendor}"
                                                >
                                                    <option
                                                            th:each="vendor: ${listVendor}"
                                                            th:value="${vendor.kodeVendor}"
                                                            th:text="${vendor.namaVendor}"
                                                    ></option>
                                                </select>
                                            </tr>
                                            </tbody>
                                        </table>

                                        <br /><br />
                                    </div>
                                </div>

                                <div class="text-right">
                                    <!--                        <button type="submit" class="my-4 ml-2 btn btn-primary" id="add-row" name="addRow">+ Tambah Row</button>-->
                                    <button type="submit" class="btn btn-primary btn-lg px-5" name="addRow" value="true" onclick="return validateTambahBarang()">+ Tambah Barang</button>

                                </div>
                                <br><br>

                                <table class="table table-bordered" >
                                    <thead class="thead-dark">
                                    <tr>
                                        <th scope="col">No</th>
                                        <th scope="col">Barang</th>
                                        <th scope="col">Jumlah Barang</th>
                                        <th scope="col">Harga Satuan</th>
                                        <th scope="col">Diskon Satuan (%)</th>
                                        <th scope="col">Action</th>
                                    </tr>
                                    </thead>

                                    <tbody id="barangRows">
                                    <tr th:each="barang, iterationStatus : *{listPengadaanBarang}">
                                        <td th:text="${iterationStatus.count}"></td>

                                        <td>
                                            <select
                                                    th:field="*{listPengadaanBarang[__${iterationStatus.index}__].barang.kodeBarang}"
                                                    class="form-control"
                                            >
                                                <option value="">Pilih Barang</option>
                                                <th:block
                                                        th:each="barangExisting : ${listBarang}"
                                                        th:remove="tag"
                                                >
                                                    <option
                                                            th:if="${barangExisting.vendorList.![kodeVendor].contains(pengadaanDTO.vendor.kodeVendor)}"
                                                            th:value="${barangExisting.kodeBarang}"
                                                            th:text="${barangExisting.namaBarang}"
                                                    ></option>
                                                </th:block>
                                            </select>
                                        </td>

                                        <td>
                                            <input
                                                    type="number"
                                                    th:field="*{listPengadaanBarang[__${iterationStatus.index}__].jumlahBarang}"
                                                    class="form-control jumlahBarang"
                                                    min="1"
                                                    step="1"
                                                    placeholder="Jumlah Barang"

                                            />
                                        </td>
                                        <td>
                                            <input
                                                    type="number"
                                                    th:field="*{listPengadaanBarang[__${iterationStatus.index}__].hargaBarang}"
                                                    class="form-control"
                                                    min="0"
                                                    step="1"
                                                    placeholder="Harga Barang"
                                            />
                                        </td>
                                        <td>
                                            <input
                                                    type="number"
                                                    th:field="*{listPengadaanBarang[__${iterationStatus.index}__].diskonSatuan}"
                                                    class="form-control"
                                                    min="0"
                                                    max="100"
                                                    step="1"
                                                    placeholder="Diskon Satuan (%)"
                                            />
                                        </td>
                                        <td>
                                            <button
                                                    th:value="${iterationStatus.index}"
                                                    class="btn btn-danger"
                                                    type="submit"
                                                    name="deleteRow"
                                            >
                                                Hapus
                                            </button>
                                        </td>
                                    </tr>
                                    </tbody>
                                </table>

                                <div class="row">
                                    <div class="col">
                                        <label> <b style="font-size:24px"> Diskon Keseluruhan (%): </b><span style="color: red;">*</span></label>
                                        <input
                                                class="form-control"
                                                type="number"
                                                required="required"
                                                min="0"
                                                max="100"
                                                step="1"
                                                th:field="*{diskonKeseluruhan}"
                                        />
                                        <br /><br />

                                        <div class="mb-3">
                                            <label for="feedback" class="form-label">Komentar perubahan:</label>
                                            <input type="text" class="form-control" id="feedback" name="feedback" required="required">
                                        </div>

                                    </div>
                                </div>

                                <div class="d-flex justify-content-center">
                                    <a class="btn btn-danger btn-lg me-4 px-5" href="/">Batal</a>
                                    <!-- me-4 untuk memberikan margin kanan sebesar 20px -->
                                    <button class="btn btn-primary btn-lg px-5"
                                            type="submit" onclick="return validateForm()">Simpan</button>
                                </div>

                                <input type="hidden" id="vendorKode" name="kodeVendor" />
                            </form>

                            <script>
                            // Function to validate each kuantitas field
                    function validateTambahBarang() {
                        var inputs = document.querySelectorAll('.jumlahBarang');
                        var isValid = true;
                        inputs.forEach(function(input) {
                            if (input.value === "") {
                                isValid = false;
                            }
                        });
                        if (!isValid) {
                            alert("Jumlah barang wajib diisi.");
                        }
                        return isValid;
                    }

                    // Function to validate the whole form before submission
                    function validateForm() {
                        var inputs = document.querySelectorAll('.jumlahBarang');
                        var isValid = true;
                        inputs.forEach(function(input) {
                            if (input.value === "") {
                                isValid = false;
                            }
                        });
                        if (!isValid) {
                            alert("jumlah barang wajib diisi.");
                        } else {
                            document.getElementById("form-pengadaan-update").submit();
                        }
                    }

                    function addRow() {
                      // Dapatkan div kontainer untuk baris-baris barang
                      var barangRows = document.getElementById("barangRows");

                      // Buat elemen div baru untuk baris barang
                      var newBarangRow = document.createElement("div");
                      newBarangRow.className = "barangRow";

                      // Tambahkan input namaBarang pada baris baru
                      var inputNamaBarang = document.createElement("input");
                      inputNamaBarang.type = "text";
                      inputNamaBarang.placeholder = "Nama Barang";
                      inputNamaBarang.name =
                        "listBarang[" + barangRows.childElementCount + "].namaBarang"; // Sesuaikan dengan atribut lain yang dibutuhkan
                      newBarangRow.appendChild(inputNamaBarang);

                      // Tambahkan tombol untuk menghapus baris
                      var deleteButton = document.createElement("button");
                      deleteButton.type = "button";
                      deleteButton.textContent = "Hapus Baris";
                      deleteButton.onclick = function () {
                        removeRow(this);
                      };
                      newBarangRow.appendChild(deleteButton);

                      // Tambahkan baris baru ke dalam kontainer
                      barangRows.appendChild(newBarangRow);
                    }

                    function removeRow(button) {
                      // Dapatkan elemen div baris yang berisi tombol yang diklik
                      var rowToRemove = button.parentNode;

                      // Dapatkan elemen div kontainer untuk baris-baris barang
                      var barangRows = document.getElementById("barangRows");

                      // Hapus baris dari kontainer
                      barangRows.removeChild(rowToRemove);
                    }

                    function validateForm() {
                    // Ambil semua input dalam form
                    var inputs = document.querySelectorAll('input, select');
                    var isValid = true;

                    // Loop melalui setiap input
                    inputs.forEach(function(input) {
                        // Jika input kosong dan required, tandai sebagai tidak valid
                        if (input.required && !input.value.trim()) {
                            isValid = false;
                            // Tambahkan class 'is-invalid' untuk menandai input yang tidak valid
                            input.classList.add('is-invalid');
                        }
                    });

                    // Jika ada field yang tidak diisi, tampilkan pesan kesalahan
                    if (!isValid) {
                        alert("Mohon lengkapi semua field yang dibutuhkan.");
                    }

                    return isValid;
                }

                function validateForm() {
                        // Ambil semua select dalam form
                        var selectInputs = document.querySelectorAll('select');

                        // Loop melalui setiap select
                        for (var i = 0; i < selectInputs.length; i++) {
                            // Periksa apakah select tidak memiliki nilai
                            if (!selectInputs[i].value) {
                                // Tampilkan peringatan kepada pengguna
                                alert("Mohon pilih barang untuk setiap baris.");

                                // Berhenti validasi dan mencegah pengiriman form
                                return false;
                            }
                        }

                        // Jika semua select memiliki nilai, form bisa disubmit
                        return true;
                    }

                  </script>
                        </div>
                    </div>
                </div>

            </div>
</body>
</html>
